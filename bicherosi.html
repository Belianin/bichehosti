<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta lang="ru">
    <link rel="stylesheet" href="css/darkhost.css">
    <link rel="icon" href="../src/icon.png">
    <title>БИЧЕРОСЫ</title>
</head>
<body link="darkslateblue" vlink="darkslateblue">
<div class="glossary centered">
    <h1>БИЧЕРОСЫ</h1>
    <h1 id="question" style="color: red; font-size: 70px; height: 240px;"></h1>
    <button style="display: inline-block;" onclick="getQuestion()">Новый вопрос!</button>
    <button id="rulesButton" style="display: inline-block;" onclick="changeRules()">Без повторений</button>
    <div id="playedLabel"></div>
    <button id="modeButton" style="display: inline-block;" onclick="changeMode()">Режим рулетки</button>
    <div id="chancesLable"></div>
    <script>
        let withoutUsed = false;
        let isRoulete = false;
        let hardChange = 0;

        function resetChances(){
            hardChange = 0;
        }

        function changeRules(){
            withoutUsed = !withoutUsed;  
            
            played = [];

            document.getElementById('rulesButton').innerHTML = withoutUsed ? 'C повторениями' : 'Без повторений'
        }


        function changeMode(){
            isRoulete = !isRoulete;
            if (!isRoulete)
                resetChances();

            document.getElementById('modeButton').innerHTML = isRoulete ? 'Обычный режим' : 'Режим рулетки'
        }

        let played = new Set();

        function selectQuestion(){
            if (isRoulete){
                let roll = Math.floor(Math.random() * 100);
                let q = [];

                let h = withoutUsed ? hardQuestions.filter(q => !played.has(q)) : hardQuestions;
                let e = withoutUsed ? easyQuestions.filter(q => !played.has(q)) : easyQuestions;

                let chancesLabel = document.getElementById('chancesLable');
                if (roll < hardChange && h.length > 0) {
                    q = h
                    resetChances();
                    chancesLabel.innerHTML = "Сложный вопрос!"
                } else if (e.length > 0) {
                    q = e;
                    hardChange += 10;
                    chancesLabel.innerHTML = `Шанс на сложный вопрос ${hardChange}%`
                } else {
                    return "Вопросы кончились!"
                };

                return q[Math.floor(Math.random() * q.length)];
            } else {
                let allQuestions = hardQuestions.concat(easyQuestions);
                if (withoutUsed)
                    allQuestions = allQuestions.filter(q => !played.has(q));
                    
                if (allQuestions.length === 0)
                    return "Вопросы кончились!";

                return allQuestions[Math.floor(Math.random() * allQuestions.length)];
            }
        }

        function getQuestion(){
            let selectedQuestion = selectQuestion();
         
            if (withoutUsed)
                played.add(selectedQuestion);

            document.getElementById('playedLabel').innerHTML = withoutUsed ? `Использовано ${played.size} вопросов` : ''

            document.getElementById('question').innerHTML = selectedQuestion;
        }

        let easyQuestions = [
            'Когда, с кем и как первый раз поцеловался',
            'Расскажи про твою первую любовь, как это было',
            'Как тебе разбили сердечко',
            'Кого и когда ты случайно заставал голым',
            'Попадался ли ты с эрекцией, как это было',
            'Были ли казусы с гигиеной в общественном месте',
            'Самый позорный диалог с противоположным полом',
            'Врал ли ты родителям, если да то как',
            'Поступок за который тебе стыдно',
            'Самое нелепое первое свидание ',
            'Как часто вспоминаешь о бывших',
            'Сколько ты зарабатываешь в месяц', 
            '3 отталкивающих внешних качества человека',
            'Кого бы из присутствующих хотел бы сейчас увидить голым (никого нельзя)',
            '1 качество человека которое поставит крест на ваших отношениях',
            'Встречался ли ты с бывшими после расстования',
            'Куда ты блевал на пьянках',
            'Сколько алкоголя максимум ты выпивал за раз',
            'Был ли случай когда случайно пердел/рыгал при людях',
            'Подглядывал за кем то кто переодевался',
            'Убегал ли от полиции',
            'Были ли проблемы с полицией', 
            'Воровал в магазине',
            'Ел ли еду в магазине, а потом ставил обратно)))',
            'Позорный случай на учёбе (вуз/школа)',
            'Было ли сексуальное влечение к преподавателю',
            'Чем ты блевал на пьянках',
            'Блевал ли когда сильно переел',
            'Хотел бы себе пластическую операцию, какую',
            'За кого проголосуешь за Путина или Навального',
            'Бросил бы снежок в амоновца',
            'Окрошка на квасе или кефире',
            'Чей крым',
            'Несс токсичный?',
            'Крипта скам или нет',
            'Если мужик красит ногти / красится, он гей?',
            'Есть мясо = быть убийцей',
            'Подибозитив норм или для ущербов?',
            'Презираешь толстых людей?',
            'Дрался ли когда нибудь',
            'Ходил в туалет в школе',
            'Любишь моргенштерна?',
            'Рэп кал?',
            'Как относильшя к украине',
            'За легализацию проституции?',
            'За легализацию легких наркотиков?',
            'За легализацию гей-браков?',
            'За запрет абортов?',
            'За смертную казнь?',
            'За анонимность в интернете?',
            'Гитлер красавчик?',
            'Сталин красавчик?',
            'Путин красавчик?',
            'Навальный красавчик?',
            'К кому испытывал ненависть',
            'К кому из друзей завидовал',
            'Кого из друзей специально не приглашал на тусовки',
            'Россия вперед или Россия вперде?',
            'Сбегал ли с свиданий',
            'Было такое что договаривался но не приходил на свидание', 
            'Кидал ли кого то в игнор в соц-сетях, за что',
            'Есть ли у тебя тайна которую никому нельзя рассказать'
        ];

        let hardQuestions = [
            'Трогал ли друзей за интимные места',
            'Был ли голый с кем то в одной комнате (не баня)',
            'Возбуждался когда думал о друге/подруге',
            'Фантазировал о сексе с друзьями/подругами',
            'Целовался с своим полом',
            'Был ли секс в общественном месте',
            'Был ли секс на улице',
            'Употреблял ли наркотики, какие, когда', 
            'Был ли секс по дружбе',
            'Был ли интим на один раз (больше не виделись)',
            'Мастурбировал ли в общественном месте',
            'Были ли петтинг в общественном месте',
            'Случайно залетела',
            'Был ли в гей/лезб клубе',
            'Был ли секс в троем',
            'Есть ли у тебя сексуальные игрушки',
            'Симмурировала ли ты',
            'Восколько ты лишился девственности в 21:36',
            'Был ли какой то казус вовремя секса',
            'Бывало такое что невстал во время секса',
            'Рвался ли презерватив',
            'Был ли секс без презерватива',
            'Был ли презерватив без секса',
            'Обменивался ли интимными фото',
            'Издевался над животными',
            'Унижал людей специально',
            'Плевал в людей',
            'Избивал человека',
            'Было желание убить человека',
            'Хотел бы увеличить член/грудь',
            'Флиртовал с кем то другим когда был в отношениях',
        ]
    </script>
</div>
</body>
</html>
